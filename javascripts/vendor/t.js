// Generated by CoffeeScript 1.4.0
(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T={}.hasOwnProperty,N=[].slice;r="0.5.0",a=function(e){return e instanceof Array},l=function(e){return e!==null&&typeof e=="object"&&!(e instanceof Array)},c=function(e){return e!==null&&typeof e=="object"&&e.isTjsTemplate},f=function(e){var t;if(!e)return!0;for(t in e){if(!T.call(e,t))continue;return!1}return!0},o=function(e){var t,n,r,i,s;if(typeof e=="function")return!0;if(c(e))return!0;if(a(e))for(i=0,s=e.length;i<s;i++){t=e[i];if(o(t))return!0}else if(l(e))for(n in e){if(!T.call(e,n))continue;r=e[n];if(o(r))return!0}},s=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},x=function(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")},h=function(e,t){var n,r;if(!t)return e;if(!e)return t;for(n in t){if(!T.call(t,n))continue;r=t[n],e[n]=r}return e},t=/^<.*/,e=/^([^#.]+)?(#([^.]+))?(.(.*))?$/,y=function(n){var r,i,s,o,u,f,l,c,h,p;s=n[0];if(a(s))return n;if(typeof s!="string")throw"Invalid first argument "+s;if(s.match(t))return n;c=s.split(" ");if(c.length>1){o=c.length-1,h=n.slice(1);while(o>=0)l=c[o],h.unshift(l),h=[y(h)],o--;return h[0]}if(f=s.match(e)){p=f[1]||"div",u=f[3],i=f[5];if(u||i)r={},u&&(r.id=u),i&&(r["class"]=i.replace(/\./g," ")),n.splice(0,1,p,r)}return n},p=function(e){var t,n,r,i,s;if(!a(e))return e;for(n=i=s=e.length-1;s<=0?i<=0:i>=0;n=s<=0?++i:--i)r=p(e[n]),a(r)?(t=r[0],t===""?(r.shift(),e.splice.apply(e,[n,1].concat(N.call(r)))):a(t)&&e.splice.apply(e,[n,1].concat(N.call(r)))):typeof r!="undefined"&&r!==null&&r!==""&&(e[n]=r);return e},d=function(e){var t,n,r,i,s,o,u,a;r={},u=e.split(";");for(s=0,o=u.length;s<o;s++)n=u[s],a=n.split(":"),t=a[0],i=a[1],t&&i&&(r[t.trim()]=i.trim());return r},b=function(e){var t;return t=e.style,typeof t=="string"?e.style=d(t):l(t&&!f(t))&&(e.style=t),e},g=function(e,t){return e["class"]&&(t["class"]?t["class"]=e["class"]+" "+t["class"]:t["class"]=e["class"]),t},m=function(e){var t,n,r,i,s,o,u,c,p;if(a(e)){if(e.length===0)return e;t={},e=y(e);for(o=0,c=e.length;o<c;o++)r=e[o],a(r)?m(r):l(r)&&(b(r),s=t.style,i=r.style,g(t,r),t=h(t,r),s=h(s,i),f(s)||(t.style=s));for(n=u=p=e.length-1;p<=0?u<=0:u>=0;n=p<=0?++u:--u)l(e[n])&&e.splice(n,1);f(t)||e.splice(1,0,t)}return e},v=function(){var e,t;return t=arguments[0],e=2<=arguments.length?N.call(arguments,1):[],typeof t=="function"?v.apply(null,[t.apply(null,e)].concat(N.call(e))):c(t)?t.process.apply(t,e):t},E=function(e){var t,n,r,i,s,o,u;r="";for(t in e){if(!T.call(e,t))continue;u=e[t];if(t==="style"){o=e.style;if(l(o)){i="";for(n in o){if(!T.call(o,n))continue;s=o[n],i+=n+":"+s+";"}r+=' style="'+i+'"'}else r+=' style="'+o+'"'}else r+=" "+t+'="'+u+'"'}return r},S=function(e){var t;return function(){var n,r,i;i=[];for(n=0,r=e.length;n<r;n++)t=e[n],i.push(w(t));return i}().join("")},w=function(e){var t,n,r,i;if(typeof e=="undefined"||e===null)return"";if(!a(e))return""+e;if(e.length===0)return"";t=e.shift();if(a(t))return w(t)+function(){var t,r,i;i=[];for(t=0,r=e.length;t<r;t++)n=e[t],i.push(w(n));return i}().join("");if(t==="")return S(e);if(e.length===0)return t==="script"?"<"+t+"></"+t+">":"<"+t+"/>";r="<"+t,i=e.shift();if(l(i)){r+=E(i);if(e.length===0)return t==="script"?r+="></"+t+">":r+="/>",r;r+=">"}else{r+=">",r+=w(i);if(e.length===0)return r+="</"+t+">",r}return e.length>0&&(r+=S(e),r+="</"+t+">"),r},i=function(){var e;return e=function(){var t,n,r;return n=arguments[0],t=2<=arguments.length?N.call(arguments,1):[],r=e.use(n),t.length===0?r:r.process.apply(r,t)},u(e),e},u=function(e){var t;return e.create=i,e.templates={},e.internal={},t=function(e,t){return this.template=e,this.name=t,this.isTjsTemplate=!0},t.prototype.process=function(){var e,t;return e=1<=arguments.length?N.call(arguments,0):[],t=v.apply(null,[this.template].concat(N.call(e))),t=p(t),m(t)},t.prototype.render=function(){var e,t;return e=1<=arguments.length?N.call(arguments,0):[],t=this.process.apply(this,e),w(t)},t.prototype.prepare=function(n){var r,i,s;for(r in n){if(!T.call(n,r))continue;s=n[r],c(s)||(n[r]=new t(s))}return i=new t(this.template,this.name),i.process=function(){var r,i,s;r=1<=arguments.length?N.call(arguments,0):[];try{return e.internal.includes&&(i=e.internal.includes),n&&(e.internal.includes=n),(s=t.prototype.process).call.apply(s,[this].concat(N.call(r)))}finally{i?e.internal.includes=i:delete e.internal.includes}},i},e.process=function(){var e,n,r;return n=arguments[0],e=2<=arguments.length?N.call(arguments,1):[],(r=new t(n)).process.apply(r,e)},e.render=function(){var e,n,r;return n=arguments[0],e=2<=arguments.length?N.call(arguments,1):[],(r=new t(n)).render.apply(r,e)},e.include=function(){var t,n,r,i;return n=arguments[0],t=2<=arguments.length?N.call(arguments,1):[],(r=e.internal.includes)!=null?(i=r[n]).process.apply(i,t):void 0},e.define=e.def=function(n,r){return e.templates[n]=new t(r,n)},e.redefine=e.redef=function(n,r){var i,s,o;return s=e.use(n),i=new t(r),o=function(){var t,n;n=1<=arguments.length?N.call(arguments,0):[];try{return e.original&&(t=e.internal.original),e.internal.original=s,i.process.apply(i,n)}finally{t?e.internal.original=t:delete e.internal.original}},e.templates[n]=new t(o,n)},e.wrapped=function(){var t,n;return t=1<=arguments.length?N.call(arguments,0):[],(n=e.internal.original).process.apply(n,t)},e.use=function(t){return e.templates[t]},e.escape=s,e.unescape=x,e.VERSION=r},n=i(),n.internal.normalize=p,n.internal.processFirst=y,n.internal.parseStyles=d,n.internal.processStyles=b,n.internal.processAttributes=m,n.internal.render=w,n.internal.thisRef=this,n.noConflict=function(){return n.oldT?n.internal.thisRef.T=n.oldT:delete n.internal.thisRef.T,n},this.T&&(n.oldT=this.T),this.T=n,typeof module!="undefined"&&module!==null&&(module.exports=n)}).call(this);